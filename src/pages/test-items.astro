---
import Layout from "../layouts/Layout.astro";

// Example test items with R2 images
const testItems = [
  {
    id: 1,
    name: "Test Item 1",
    description: "This is a test item with an image from R2 storage",
    image: "/storage/images/astroflare.jpg"
  },
  {
    id: 2,
    name: "Test Item 2",
    description: "Another test item with the same image from R2 storage",
    image: "/storage/images/astroflare.jpg"
  },
  {
    id: 3,
    name: "Test Item 3",
    description: "Yet another test item with an image from R2",
    image: "/storage/images/astroflare.jpg"
  }
];
---

<Layout title="Test Items with R2 Storage">
  <main class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6">Test Items with R2 Storage</h1>
    
    <p class="mb-6">This page demonstrates using R2 storage for item images. All images are served from Cloudflare R2 bucket.</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {testItems.map(item => (
        <div class="border rounded-lg overflow-hidden shadow-md">
          <img 
            src={item.image} 
            alt={item.name} 
            class="w-full h-48 object-cover"
          />
          <div class="p-4">
            <h2 class="text-xl font-semibold mb-2">{item.name}</h2>
            <p class="text-gray-700">{item.description}</p>
          </div>
        </div>
      ))}
    </div>
    
    <div class="mt-8 p-4 bg-gray-50 rounded-lg border">
      <h2 class="text-xl font-semibold mb-2">How R2 Storage Works</h2>
      <ul class="list-disc ml-6 space-y-2">
        <li>Images are stored in Cloudflare R2 bucket</li>
        <li>Served via the <code class="bg-gray-200 px-1 rounded">/storage/*</code> path</li>
        <li>Handled by Cloudflare Functions</li>
        <li>Works in both development and production</li>
      </ul>
    </div>
  </main>
</Layout> 